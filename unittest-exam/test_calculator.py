# test_calculator.py

import unittest                   # 1) 파이썬 기본 테스트 도구 불러오기
from calculator import add        # 2) 우리가 테스트할 함수 가져오기 (add 함수)

# -------------------------------------------------------------
# TestCalculator 클래스 = 테스트 묶음(Test Suite + Test Case)
#
# unittest.TestCase를 "상속"해야
# - assertEqual 같은 테스트 도구 사용 가능
# - test_로 시작하는 메서드를 자동으로 실행해줌
# -------------------------------------------------------------
class TestCalculator(unittest.TestCase):

       
    # ---------------------------------------------------------
    # [정상적인 테스트 메서드 예시]
    #
    # ✔ 이름이 반드시 test_ 로 시작해야 한다!
    #   그래야 unittest가 자동으로 찾아서 실행함.
    #
    # ✔ assertEqual(a, b)
    #   - a와 b가 같아야 테스트 성공
    #   - 다르면 "실패(Fail)" 처리
    #
    # 아래 테스트는:
    #   add(2, 3) 결과가 5인지 확인하는 테스트
    # ---------------------------------------------------------
    def test_add_positive_numbers1(self):
        """양수(+) 덧셈 테스트"""
        result = add(2, 3)
        self.assertEqual(result, 5)   # 2 + 3 = 5 맞으면 통과

    # ---------------------------------------------------------
    # [잘못된 테스트 메서드 예시]  → "왜 실행 안 되는지" 설명용
    #
    # 1) tesst_add_positive_numbers  → test_로 시작하지 않아 테스트로 인식되지 않음
    # 2) assertEqual2 는 실제 존재하지 않는 잘못된 메서드 이름 → 실행되면 에러 발생
    #
    # ✔ 테스트 함수 조건:
    #   - 반드시 이름이 test_ 로 시작해야 함
    #
    # ✔ 없는 assert 메서드를 쓰면?
    #   - "실패(Fail)"가 아니라 "에러(Error)" 발생
    #
    #   Fail  = 테스트는 실행됐지만 값이 기대와 다름
    #   Error = 테스트 코드 자체가 잘못됨 (오타, 없는 함수 호출 등)
    # ---------------------------------------------------------
    def tesst_add_positive_numbers2(self):
        """양수 덧셈 테스트 (하지만 이름 오타 때문에 실행 안 됨)"""
        result = add(2, 3)
        # 존재하지 않는 메서드 → 이 코드는 실행되면 Error
        # self.assertEqual2(result, 5) -> E가 출력됨. Erorr. 이 경우 오탈자난 메서드를 사용함
        # self.assertEqual("result", 5) -> F가 출력됨. Fail. 코딩이 잘못됨. 이 경우 문자랑 숫자를 비교함
        self.assertEqual(result, 5)

    # ---------------------------------------------------------
    # 또 다른 테스트: 음수 더하기가 제대로 동작하는지
    # ---------------------------------------------------------
    def test_add_negative_numbers(self):
        """음수(-) 덧셈 테스트"""
        result = add(-1, -1)
        self.assertEqual(result, -2)  # -1 + -1 = -2 맞으면 통과

# -------------------------------------------------------------
# 이 부분은 "이 파일을 직접 실행했을 때"만 동작한다.
#
# python test_calculator.py  로 실행하면
# __name__ 값이 "__main__" 이 되어 아래 코드가 실행됨.
#
# unittest.main() = test_ 로 시작하는 메서드들을 자동으로 실행
# -------------------------------------------------------------
if __name__ == '__main__':
    unittest.main()
