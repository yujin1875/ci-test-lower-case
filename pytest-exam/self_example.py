# ================================================
# 파이썬에서 클래스 메서드가 왜 self를 첫 번째 인자로 받는가?
# ================================================


# -----------------------------------------------
# 1) 클래스 정의
# -----------------------------------------------
class Person:

    # -------------------------------------------
    # 생성자(constructor)
    # self = 만들어지는 '이 객체 자신'
    # -------------------------------------------
    def __init__(self, name, age):
        # self.name ➜ 이 객체가 가진 name 변수
        self.name = name
        self.age = age

    # -------------------------------------------
    # 메서드(함수). self는 “어떤 객체가 이 메서드를 쓰는가”를 의미한다.
    # self가 없으면, 어떤 객체에 대한 나이인지 모르기 때문에 오류 발생!
    # -------------------------------------------
    def say_hello(self):
    
        print("안녕하세요! 저는", self.name, "입니다!")
    
    # 잘못된 예시. 🚨
    # self가 없으니 
    # 객체가 가진 정보를 접근(활용)할 수 없고
    # 에러도 난다. 하단에서 해당 메서드를 호출해보자
    # 이미 벌써 노랑줄이 쳐져있다
    #
    # ⭐tip : 노랑줄 툴팁 띄우기 단축키
    # windows : ctrl + k + i
    # mac : 커맨드 + k + i
    def say_hello_error():     
        print("안녕하세요! 저는", 'self.name', "입니다!")

    # -------------------------------------------
    # 매개변수를 하나 더 받을 수도 있다.
    # self는 자동으로 들어오고, count는 사용자가 넣는 값.
    # -------------------------------------------
    def add_age(self, count):
        # self.age ➜ 이 객체의 age 값
        self.age += count
        print(self.name, "님의 나이는 이제", self.age, "살입니다.")


# -----------------------------------------------
# 2) 실제 사용 예시
# -----------------------------------------------

# 객체 2개 생성
p1 = Person("철수", 20)
p2 = Person("영희", 25)

# -------------------------------------------
# 호출할 때 self는 직접 쓰지 않는다!
# !!!! 👉🏻 파이썬이 자동으로 넣어주기 때문이다.
#
# 아래 코드는 내부적으로 이렇게 동작한다:
# p1.say_hello() → Person.say_hello(p1)
# p2.say_hello() → Person.say_hello(p2)
# -------------------------------------------

p1.say_hello()   # 내부적으로 self=p1
p2.say_hello()   # 내부적으로 self=p2
#
# p2.say_hello_error()   # 🚨잘못된 예시
# takes 0 positional arguments but 1 was given
# 0개의 매개변수를 받기로 했는 데, 1개를 받았다
# 이 1개의 정체가 바로 self임
# 바로 위에서 언급한, '👉🏻 파이썬이 자동으로 넣어준다.'
# 가 바로 이 것을 말하는 것.

# -------------------------------------------
# 메서드가 동일한데도, 객체(p1/p2)에 따라
# self가 달라져서 서로 다른 값(name, age)을 사용한다.
# -------------------------------------------

p1.add_age(3)    # 내부적으로 Person.add_age(p1, 3)
p2.add_age(5)    # 내부적으로 Person.add_age(p2, 5)

# -------------------------------------------
# ✨ self가 없으면 어떤 객체에 대한 데이터인지 알 수 없기 때문에
# 파이썬은 self를 강제로 첫 번째 인자로 요구한다.
# -------------------------------------------
